📸 字幕截图生成器项目文档
1. 项目概述

字幕截图生成器是一个前端工具，用户可以选择或上传名人演讲/访谈的背景图，并在其上添加自定义字幕（中文 / 英文 / 中英双字幕）。

默认生成的图片会在右上角带有 域名 + 作者 水印：

screenshot | Rollkey


用户如需去除水印，必须扫描微信公众号「幻之行方」二维码并关注。

2. 技术栈

框架：Astro（静态站点生成）

组件：React（用于字幕输入和实时预览）

样式：Tailwind CSS

图片生成：HTML5 <canvas> + toDataURL 导出 PNG

3. 功能需求
3.1 基础功能

背景选择

**系统内置的名人背景图**和**上传本地图片作为背景**二选一

可以选择从下拉框选择系统内置的名人背景图（存放在 /public/assets/heroes/）

也可选择上传本地图片作为背景。上传本地图片后，系统内置的名人背景图变为不可选。

字幕输入

文本框支持多行字幕

可选择：中文 / 英文 / 中英双字幕

实时预览

样式调整

字体大小（滑块调节）

行高（滑块调节）

对齐方式（左 / 中 / 右）

字幕位置（顶部、中间、底部）

水印机制

默认生成的图片右上角显示 screenshot | Rollkey

用户点击「去除水印」时，会弹出二维码弹窗，提示关注「幻之行方」公众号

用户扫码后，可解锁“去水印”功能（前端模拟，不做实际验证）

图片导出

使用 Canvas 生成最终图片

点击按钮保存为 PNG

3.2 非必需但推荐的扩展

字幕阴影 / 描边（增强可读性）

一键分享到社交媒体（X / 微信 / Facebook 等）

多语言 UI（中英文切换）

4. 页面设计
4.1 首页布局
------------------------------------------------------------
| 左侧操作区                       | 右侧预览区（Canvas）   |
|----------------------------------|-----------------------|
| [选择名人 ▼]                     |  [背景图+字幕+水印]   |
| [上传图片（可选）]                       |                       |
| [输入字幕(中/英)]                |                       |
| [字体大小][行高]                 |                       |
| [导出图片按钮]                   |                       |
| [去水印按钮 -> 弹出二维码]        |                       |
------------------------------------------------------------

5. 项目目录结构
subtitle-screenshot/
│── public/
│   ├── assets/heroes/     # 名人背景图
│   ├── qr-code.png        # 微信公众号二维码
│
│── src/
│   ├── components/
│   │   ├── HeroSelector.jsx   # 名人选择
│   │   ├── SubtitleInput.jsx  # 字幕输入
│   │   ├── CanvasPreview.jsx  # 预览区（Canvas）
│   │   ├── Controls.jsx       # 样式调整
│   │   ├── WatermarkModal.jsx # 去水印二维码弹窗
│   │
│   ├── pages/
│   │   └── index.astro        # 主页（整合React组件）
│   │
│   ├── utils/
│   │   └── canvasUtils.js     # Canvas绘制逻辑
│   │
│   └── App.jsx
│
└── package.json

6. 交互逻辑

用户进入网站，默认显示预览区（背景图 + 字幕 + 水印）

输入字幕 → 实时更新预览

点击「保存图片」 → 生成 PNG，自动带水印

点击「去水印」 → 弹出二维码弹窗

用户扫码关注公众号后，点击「已关注」按钮 → 允许生成无水印图片

7. 水印规则

默认水印：右上角 screenshot | Rollkey

样式：灰色半透明小字，字体 14px，带阴影

去水印：扫码后按钮解锁

8. 部署方案

构建方式：Astro + React → 生成静态站点

部署平台：Vercel / Netlify / GitHub Pages

访问路径：https://screenshot.vercel.app